<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sonhos de Papel – Fase 1</title>
  <link href="https://fonts.googleapis.com/css2?family=Just+Another+Hand&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="./assets/img/cloud.png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="jogo-container">

    <div id="tela-inicial" class="tela fade">
      <div class="fundo-papel"></div>
      <div class="estrelas"></div>
      <h1 id="titulo-jogo">Sonhos de Papel</h1>
      <p class="intro">Em cada sonho, uma emoção a ser enfrentada.</p>
      <button id="btn-iniciar">Iniciar Jogo</button>
    </div>

    <div id="tela-instrucoes-fase1" class="tela fade hidden">
      <div class="fundo-canvas"></div>
      <div class="caixa pergaminho">
        <h2>FASE 1: MEDO</h2>
        <p>
          Neste sonho, você deve empurrar palavras negativas<br>
          que tentam te bloquear.<br><br>
          <strong>Movimentação:</strong> Use as setas do teclado ⬆️ ⬇️ ⬅️ ➡️<br>
          <strong>Objetivo:</strong> Alcance a estrela da luz interior ⭐
        </p>
        <button id="btn-fase1" class="btn-azul">Começar</button>
      </div>
    </div>

    <canvas id="gameCanvas" width="800" height="600" class="hidden"></canvas>
  </div>

  <audio id="musica-menu" src="./assets/audio/lofi.mp3" loop></audio>
  <audio id="musica-fase" src="./assets/audio/ambiente.mp3" loop></audio>

  <script src="game.js"></script>
  <script>
    window.onload = () => {
      const telaInicial = document.getElementById("tela-inicial");
      const telaInstrucoes = document.getElementById("tela-instrucoes-fase1");
      const canvas = document.getElementById("gameCanvas");
      const musicaMenu = document.getElementById("musica-menu");
      const musicaFase = document.getElementById("musica-fase");

      document.getElementById("btn-iniciar").addEventListener("click", () => {
        telaInicial.classList.add("hidden");
        telaInstrucoes.classList.remove("hidden");
        musicaMenu.volume = 0.6;
        musicaMenu.play();
      });

      document.getElementById("btn-fase1").addEventListener("click", () => {
        telaInstrucoes.classList.add("hidden");
        canvas.classList.remove("hidden");
        musicaMenu.pause();
        musicaFase.volume = 0.5;
        musicaFase.play();
        startGame();
      });

      telaInicial.classList.remove("hidden");
      telaInstrucoes.classList.add("hidden");
      canvas.classList.add("hidden");
      musicaMenu.pause();
      musicaFase.pause();
    };
  </script>
</body>
</html>
